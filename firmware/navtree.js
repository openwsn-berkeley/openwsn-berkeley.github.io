var NAVTREE =
[
  [ "OpenWSN Firmware", "index.html", [
    [ "Todo List", "todo.html", null ],
    [ "Modules", "modules.html", "modules" ],
    [ "Data Structures", null, [
      [ "Data Structures", "annotated.html", "annotated" ],
      [ "Data Structure Index", "classes.html", null ],
      [ "Data Fields", "functions.html", [
        [ "All", "functions.html", "functions_dup" ],
        [ "Variables", "functions_vars.html", "functions_vars" ]
      ] ]
    ] ],
    [ "Files", null, [
      [ "File List", "files.html", "files" ],
      [ "Globals", "globals.html", [
        [ "All", "globals.html", "globals_dup" ],
        [ "Functions", "globals_func.html", "globals_func" ],
        [ "Variables", "globals_vars.html", "globals_vars" ],
        [ "Typedefs", "globals_type.html", "globals_type" ],
        [ "Enumerations", "globals_enum.html", null ],
        [ "Enumerator", "globals_eval.html", "globals_eval" ],
        [ "Macros", "globals_defs.html", "globals_defs" ]
      ] ]
    ] ]
  ] ]
];

var NAVTREEINDEX =
[
"00std__eui64_8h.html",
"01bsp__radio__tx_8c.html#a5bb27460721cc90620d197fabf50d4bba17432ac7c0b41023ff0fb83003a64ba1",
"_i_e_e_e802154_e_8c.html#a449dc5fca312b47b4138811a7b518742",
"_m_k20_d7_8h.html#ga0265b25e77883b6b0cb056ab697b5bc6",
"_m_k20_d7_8h.html#ga0b2a0b585f32c1d75bc5f03172145891",
"_m_k20_d7_8h.html#ga1342110677c5c62083dcf4f541951665",
"_m_k20_d7_8h.html#ga1a52b7004338c3caf87bc34f75bab14b",
"_m_k20_d7_8h.html#ga22a70393315807bfa3480a1892da3531",
"_m_k20_d7_8h.html#ga2ba15c609c4ff7e43ed4d6119b704ddd",
"_m_k20_d7_8h.html#ga33b53383778c4f79267e4f5e085bbb26",
"_m_k20_d7_8h.html#ga3b612d1b86edf89a8e6c3bfb5a8bce4e",
"_m_k20_d7_8h.html#ga444494eb7e637dcea435c4dc66ed7cd4",
"_m_k20_d7_8h.html#ga4c9ab830040b30f5ebc3e21f357e3d58",
"_m_k20_d7_8h.html#ga54d6df4736585e900d11f5658959b952",
"_m_k20_d7_8h.html#ga5d793a831a5ea278d46d9cb639eae572",
"_m_k20_d7_8h.html#ga64d72753d3b6dee9b83125cfba66b52a",
"_m_k20_d7_8h.html#ga6c9c90706e66f4bfa8fb53dd0407e579",
"_m_k20_d7_8h.html#ga7499ec372d112f712c709c1a2e2abf86",
"_m_k20_d7_8h.html#ga7cb29b185e9330124f8777c090685d49",
"_m_k20_d7_8h.html#ga853091d7021809023d1553f1afbb98f2",
"_m_k20_d7_8h.html#ga8cb4717fe169f84271e8975cc5903950",
"_m_k20_d7_8h.html#ga9525ab8f8066931fe511722b30888360",
"_m_k20_d7_8h.html#ga9dca78158dd0cbc591569935f052bab4",
"_m_k20_d7_8h.html#gaa54623c269b62894c35c88d10102f17b",
"_m_k20_d7_8h.html#gaaeeed4029e6a0189e90c623c2aa0879b",
"_m_k20_d7_8h.html#gab6c35b9973f892499844b50d600f19e2",
"_m_k20_d7_8h.html#gabf0bcd5a32bcc6e58bac1a0f826ab3c6",
"_m_k20_d7_8h.html#gac7fb73cbebfb6246a56abbad9819c81d",
"_m_k20_d7_8h.html#gacff5d21eb80fe537f40b518e58750186",
"_m_k20_d7_8h.html#gad761aef825b2419b7ba6245c4781be38",
"_m_k20_d7_8h.html#gae025e267c4a27be7a58990361788f39b",
"_m_k20_d7_8h.html#gae8062c54fb9d63becd95c6e34399b995",
"_m_k20_d7_8h.html#gaf042de0f122739453b8685fd3ccdef61",
"_m_k20_d7_8h.html#gaf889dddf3bfe69e1fde16e5386ab5204",
"_m_k20_d7_8h.html#gga5f3656e2a154b64aa378a2f3856c3a8da1f862a8820c6dd0392fbd83450992fcc",
"_m_k20_d_z10_8h.html#ga016671165049d0de1ec5a7ccdc78ad26",
"_m_k20_d_z10_8h.html#ga08c6b329c95f8ac5a39eecfbd347cce2",
"_m_k20_d_z10_8h.html#ga104678507322e6937284cec9aabbe2ff",
"_m_k20_d_z10_8h.html#ga16f76793a4ca36622bbbe239f44b83ce",
"_m_k20_d_z10_8h.html#ga1dd167f78a3ed39d0858085f54286371",
"_m_k20_d_z10_8h.html#ga24eac1a19c79f750c2ed88506155179d",
"_m_k20_d_z10_8h.html#ga2cd33266c104fc645dcadaea7e659aa8",
"_m_k20_d_z10_8h.html#ga33e3d274099483b6ebf7897b7d72b866",
"_m_k20_d_z10_8h.html#ga3aaccd62a11f1cd2f842cd8d5f50ba79",
"_m_k20_d_z10_8h.html#ga41c5aad4e7fc502f09f78287aac48b10",
"_m_k20_d_z10_8h.html#ga4969620111da58060cc303d51e5f6848",
"_m_k20_d_z10_8h.html#ga511a18a3f0e39a5090515728b94a60ec",
"_m_k20_d_z10_8h.html#ga586c9e6ae8f52c540cfa058c5852be14",
"_m_k20_d_z10_8h.html#ga5f11c0b20979a1e2af8ee912693250c7",
"_m_k20_d_z10_8h.html#ga659b5028f04875ea06edf0d6b0767efb",
"_m_k20_d_z10_8h.html#ga6c7dec717641c58e29d3335729e95b58",
"_m_k20_d_z10_8h.html#ga7345147db87018f9e9d78b4cd809ad23",
"_m_k20_d_z10_8h.html#ga7a9291c9148fe72fcaa6daf2a8fdd83e",
"_m_k20_d_z10_8h.html#ga81a5d66a560dc54bb4c2b5b5a5251dfd",
"_m_k20_d_z10_8h.html#ga88f81c7a0134abe2eb9dac410625fee3",
"_m_k20_d_z10_8h.html#ga9040b4c1d6aed588e4d7d81db4a4f11c",
"_m_k20_d_z10_8h.html#ga97fef8ffbb3e2719fec418aca185093c",
"_m_k20_d_z10_8h.html#ga9f10b09be455b24a669a841584d80936",
"_m_k20_d_z10_8h.html#gaa629cc32d7ead34fdda701fa682214fe",
"_m_k20_d_z10_8h.html#gaae1c32b7e20bbc817c4c5af4479e2a91",
"_m_k20_d_z10_8h.html#gab4e860d16d2fc9b82267d19bcf14746d",
"_m_k20_d_z10_8h.html#gabcaddd284ea15a0667f390b07c89587b",
"_m_k20_d_z10_8h.html#gac39687ecdce013f219034bf544d48bf8",
"_m_k20_d_z10_8h.html#gaca5b1d8eaedb1a55c4cc3be2d17ac80d",
"_m_k20_d_z10_8h.html#gad162d87bd892f7bfcd34c74941168e64",
"_m_k20_d_z10_8h.html#gad8199ccd7b6edb29bcd5e940d17e7e47",
"_m_k20_d_z10_8h.html#gadff8b8b1d5645fca57a02109df3e507b",
"_m_k20_d_z10_8h.html#gae6a4aaa8869815edf82c900a92bdfe92",
"_m_k20_d_z10_8h.html#gaee6cacf155d736fa3c12612eae539dca",
"_m_k20_d_z10_8h.html#gaf4c6c3b8d904be68641e9cb951604a93",
"_m_k20_d_z10_8h.html#gafcb1b6a8b0640d7b1c55936341fe3288",
"_m_k20_d_z10_8h.html#gga5f3656e2a154b64aa378a2f3856c3a8da918d1243132ab6fd0b6d5a2a08f0a6d5",
"adc16_8h.html#a2e2043b736b2d43c6d81883e5a62ec98",
"boards_2derfmega_2at86rf231_8h.html#aa32ab072b1049d92d8bd2856eaaf4878",
"cc1101_8h.html#a6e3f2231521ed4591d88d875094ea839",
"chips_2at86rf231_2at86rf231_8h.html#aba11103f9081376abec3a97f7a68af44",
"common_8h.html#a3c3466e03f2612d911d4d4f47b726e86",
"dir_2cbe127c29b09e6b4cec04e58a43e902.html",
"eldorado_8h.html#a1a2d8452ccfc43e76213d8658db0879e",
"ez430-rf2500_2spi_8c.html#a238c39026da22c5155398b15dd8df5d7",
"gina_2debugpins_8c.html#a3c341d5fc4becd022c3b7223e84c6661",
"globals_vars_0x6d.html",
"group___a_d_c___register___masks.html#ga2f9f36fb3b4eceab2198582865dc5b14",
"group___a_i_p_s___register___accessor___macros.html#ga52d5b9830bfd7cbaaba6599ceb788a74",
"group___a_i_p_s___register___masks.html#ga21e6d7b747221c4d639a7218ff81518b",
"group___a_i_p_s___register___masks.html#ga44fb1cf18f9f9909de263c75f516e24e",
"group___a_i_p_s___register___masks.html#ga6a59f86b0fa98088b2805b5e911c8188",
"group___a_i_p_s___register___masks.html#ga91a69e07f7a2a28035365e0961656fb8",
"group___a_i_p_s___register___masks.html#gac36e539c22474d9e0addb0d2abac16fb",
"group___a_i_p_s___register___masks.html#gae6d9b77a59b50ae6d499d23d740493f1",
"group___a_x_b_s___register___masks.html#ga6fe3afeef7171b168ddfa8341c88b0dc",
"group___c_a_n___register___accessor___macros.html#ga6260a652df181ee665915e52343d4206",
"group___c_a_n___register___masks.html#ga0d2a12288f44224a38a4d784903838bb",
"group___c_a_n___register___masks.html#ga8af394ab6bb4356bc5fa71e2278332ad",
"group___c_l_k_p_w_r___private___macros.html#gad70f480a8a233255b43c7d267bc80e3c",
"group___c_m_t___register___accessor___macros.html#ga19314736e7708b9cd2ebac1fc1a884ab",
"group___c_r_c___register___masks.html#ga2104183fd4edfba092c04579a6a3bfa7",
"group___d_a_c___register___accessor___macros.html#gab7104081fb82c76d4f57175875cdc95f",
"group___d_m_a___register___accessor___macros.html#ga2521a084ea42e98eeceb804e5f7ecb76",
"group___d_m_a___register___accessor___macros.html#ga85eb84f9db603a9914f8083f55c8091c",
"group___d_m_a___register___accessor___macros.html#gaed65b973d5ac8e9dbb0bf825058f6b80",
"group___d_m_a___register___masks.html#ga389695175eaab975f78ed66669e467df",
"group___d_m_a___register___masks.html#ga74b734e2edf221545bb66ade093a8875",
"group___d_m_a___register___masks.html#gabce1884c422b6ac489666e9cf6ae23ed",
"group___d_m_a_m_u_x___register___accessor___macros.html#gaa445f96fc79c66e60c1a1431561075dd",
"group___e_t_f___register___accessor___macros.html#ga1b85f16985623f6d5844215a290cb636",
"group___f_b___register___accessor___macros.html#ga444494eb7e637dcea435c4dc66ed7cd4",
"group___f_m_c___register___accessor___macros.html#ga74a534e13d5db0a9bcce7f10e37bc98d",
"group___f_m_c___register___masks.html#gaa101cb7bed362dfe0e710d0215b4b150",
"group___f_t_f_l___register___masks.html#ga01be669b3badf964a2db479cc61155b1",
"group___f_t_m___register___accessor___macros.html#ga32e8c762a4052df13b0a83d193a3e7b4",
"group___f_t_m___register___masks.html#ga10aa816fdf5d6c7759f2343e74dab618",
"group___f_t_m___register___masks.html#ga6b91d1ec9cfd8e992734eab0b764fa50",
"group___f_t_m___register___masks.html#gac446951cc555fbf040895c15baa5a748",
"group___g_p_i_o___register___accessor___macros.html#ga5c5a9a4e809579e68ae743d931312cc5",
"group___i2_c___register___accessor___macros.html#ga27c7ad30a1ae595f33d8644b381be049",
"group___i2_s___register___accessor___macros.html#ga1d21464e73fc9a5d2d0fcba4043a991c",
"group___i2_s___register___masks.html#ga5c058733b003676b7b749fe9a3b9512d",
"group___i2_s___register___masks.html#gae62f96d35bbfdc150f3d3cc9a0a27077",
"group___i_p_h_c.html#gga144ca0928b8496c2c689f8333b1bd1bbafed57a80fb6fc070089992ddd9176035",
"group___i_t_m___register___accessor___macros.html#gaff1a7b2832a1e4ecef1e171dd126fc48",
"group___interrupt__vector__numbers.html#gga5f3656e2a154b64aa378a2f3856c3a8da78d941de37cb117c5c67bcf135697896",
"group___l_l_w_u___register___accessor___macros.html#gabe3a2c1d3bd364f60d4ef36944dd0d7e",
"group___l_l_w_u___register___masks.html#gae6a462624a848afff074ae6e6da83cb0",
"group___m_c_g___register___accessor___macros.html#gabaeaf7dd44e609a83f01b9fec0dec0c3",
"group___m_c_m___register___masks.html#ga88f833168fd51e1b3c950e21b00bbfc3",
"group___n_v___register___accessor___macros.html#ga042021b7c9ba543352055825ab37f11b",
"group___n_v_i_c___register___accessor___macros.html#ga3e3e1c3baad6e9d3e35893e1f02be1c3",
"group___n_v_i_c___register___masks.html#ga16c30ac91bb87c2bb3d376a31cea5d75",
"group___n_v_i_c___register___masks.html#ga740cf79c3a0217978c5fb0d9bf4f7928",
"group___n_v_i_c___register___masks.html#gacebbcf17aacb8ef864d746e814e0e309",
"group___p_d_b___peripheral.html#ga99a192ea14b33afb792a0de304e131be",
"group___p_i_n_s_e_l___public___macros.html#ga6777cc9af3537a1a29dd1a577993851f",
"group___p_o_r_t___register___accessor___macros.html#ga17d9629095af89dd3c23617ef086870f",
"group___p_o_r_t___register___accessor___macros.html#gac146314fb6f03302535915823dd8c6ad",
"group___r_c_m___register___accessor___macros.html#ga0be970e23a295c11f2e80b9f83ae4dbe",
"group___r_t_c___register___masks.html#ga33ae5982aca9e8f6c95d69127938e30c",
"group___s_c_b___register___masks.html#ga0f3be80693fe496d7fff4dfdfbf115f0",
"group___s_c_b___register___masks.html#gac28acf4ce5242a53961b9549e7dd0115",
"group___s_d_h_c___register___masks.html#ga46d5c9b348b825831e0fb397ede43a9a",
"group___s_i_m___register___accessor___macros.html",
"group___s_i_m___register___masks.html#ga52265aeecddf9a1d725645b5e27d7da7",
"group___s_i_m___register___masks.html#gade95a67c98499139b322e706b4ce3db1",
"group___s_p_i___register___masks.html#ga06579b6d579b820152dd81435d71c09e",
"group___s_p_i___register___masks.html#gab24077f2090f26468c4ebe2ecfda7c5f",
"group___schedule.html#gad3fd826f37f8b7437ed4b8b06b31cf6d",
"group___t_p_i_u___register___accessor___macros.html#gac27fc8bc1b5d9d580da426e3b8cb7891",
"group___t_s_i___register___masks.html#ga6221630132abfdf46ae3083ba9f33f08",
"group___u_a_r_t___private___macros.html#ga18b1661d7c37ab40c9310311dd4f647d",
"group___u_a_r_t___register___accessor___macros.html#ga1ed5f65c9f9d7626053f21aa9f4a5b1f",
"group___u_a_r_t___register___accessor___macros.html#gaed13dc91c79d6961be5a95c7fdbb582f",
"group___u_a_r_t___register___masks.html#ga84ef48b565c1e3526a3c392b8ce9cf83",
"group___u_d_p.html#gga2930e96d6b2f1b8c7c38e6743e795a60ac75f32f33cd13e01c40f8c1d6a86dd05",
"group___u_s_b___register___masks.html#ga42e986ec54195657a22043422895c708",
"group___u_s_b___register___masks.html#gad256dcdfe8443877169b69dbcc8a041e",
"group___w_d_o_g___register___accessor___macros.html#ga37ac1b7e81db9a5b20a502c970d712c2",
"group__rsched.html",
"imu__loop_8c.html#a081b4929be92e10a1ca67239736b70e2",
"k20_2bsp_2radiotimer_8c.html#a0dd1b7fa75925f96618ae9558aedc4dc",
"lpc17xx__i2c_8h.html#ga36753112210a8c33d566b572b63b753b",
"lpc17xx__uart_8h.html#ga8af9d466136018be41f1d1280c11197a",
"mcg_8h.html#a8e8e3b5904dfc7be4dafdf7f728064f1",
"opencoap_8h.html#ga809c9a7522aa7e4726b4a95ccdb2833b",
"openqueue_8h.html#gaf56b9dc58ae650ca79c068105b84bb79",
"opentcp_8h.html#ggac4074ab093bcae10948209df3aabd5eba790ae97092ed8e95aac0b8363f703807",
"openwsnmodule_8c.html",
"pins_8c.html#a5f2680574565cf2cce593cc5ef02809b",
"radio_8h.html#aaf9aff6a522103cc312457043baf7eca",
"sai_8h.html#a3c9d2713157602ffa48977efffff8549",
"smc_8h.html#ac1a663b8a14fd63ddc51442793257082",
"stm32f10x__adc_8c.html#ac3e534aea5742c823e2789c745909b3b",
"stm32f10x__bkp_8h.html#ae7cd3bd314605f7752062c814b850c23",
"stm32f10x__dac_8h.html#a9798d68c3bbf0a57306bf2f962697377",
"stm32f10x__exti_8h.html#a8429170f3320b90227f9f5b252c1c5eb",
"stm32f10x__gpio_8h.html#a4155a41c433f3657b9c79cfbd4240966",
"stm32f10x__i2c_8h.html#ae0d731df1b264d853703716c29309b9b",
"stm32f10x__map_8h.html#a0372dff2ea38e52dc120abae0a9f614b",
"stm32f10x__map_8h.html#a127c155bc5c5236f04cfdcf96ff66cc5",
"stm32f10x__map_8h.html#a1f9bf2c236b772e76174aff4388a1b6f",
"stm32f10x__map_8h.html#a2d41a4027853783633d929a43f8d6d85",
"stm32f10x__map_8h.html#a3b10eabb1a809d4dbac50b911375f8ac",
"stm32f10x__map_8h.html#a486280713c8f07d7033bce4e74825130",
"stm32f10x__map_8h.html#a5683dc25f0aae9a802a5f57c88bec856",
"stm32f10x__map_8h.html#a647a6f3d6de31737ca95de9db3925274",
"stm32f10x__map_8h.html#a7317f7e229e75fef4e83e4c22c43909b",
"stm32f10x__map_8h.html#a81514ecf1b6596e9930906779c4bdf39",
"stm32f10x__map_8h.html#a90491f31219d07175629eecdcdc9271e",
"stm32f10x__map_8h.html#a9c4503803cbe1933cd35519cfc809041",
"stm32f10x__map_8h.html#aab3aa5d0e2a4b77960ec8f3b425a3eac",
"stm32f10x__map_8h.html#abb635843951fb42ffeb776d8564d7e14",
"stm32f10x__map_8h.html#acad6560088b586891d446952bbd8fbbe",
"stm32f10x__map_8h.html#ad7723846cc5db8e43a44d78cf21f6efa",
"stm32f10x__map_8h.html#ae6193d7181f2f19656f08d40182b6f9d",
"stm32f10x__map_8h.html#af40a4dd0979fb7ffba4b4192fe6dde5f",
"stm32f10x__nvic_8h.html#a08dda316fc62bfa27af8c3ee0f06c811",
"stm32f10x__rcc_8c.html#aebba27e82ac09ba4f4cb6569dfbcf1fa",
"stm32f10x__sdio_8c.html#a7e6ec7be68d0fbb8fb4e3725cca9a05c",
"stm32f10x__spi_8h.html#a45e688f93a93b605886240cad23bc2eb",
"stm32f10x__tim_8c.html#ac961275a78de716feca693d4aa98a626",
"stm32f10x__tim_8h.html#aa3c433d0fece419c0d0c14dbe12542ae",
"stm32f10x__usart_8h.html#a56c12b81d19853c093e0a373d0c52fb5",
"struct_b_k_p___type_def.html#a83e5ce6eace7d95c56377cc4fc690829",
"struct_d_m_a___init_type_def.html#ad5fec193bb969678b05052a21542798d",
"struct_f_b___mem_map.html#aac9256575be36cd190e28da6992eb9b3",
"struct_i2_s___init_type_def.html#a01bda41504ee3b3dd4cacbaf31f84a6c",
"struct_open_mote.html#abd743be836ce0b5fd60d0079f0838b74",
"struct_s_i_m___mem_map.html#a10c826c9197f80b94fa050a36943e871",
"struct_u_a_r_t___c_f_g___type.html#abd39a735744275ac05cc74a1d19a5e79",
"structbsp__timer__vars__t.html",
"structcc2420___b_a_t_t_m_o_n__reg__t.html#ab3701376cab0913739f77e8945afb9f4",
"structevent__response__t.html#ab38a20017c68496dd94e5f0d7e0c2dc9",
"structopensim__repl__uart__read_byte__t.html#aaa408c40591dc324293d736462a274a7",
"structtcp__ht.html#af1d7df56be260f99b373fa661ab496c0",
"telosb_2board__info_8h.html#a8c4fcdb6e44dcf5103f7f727b2cf42b8",
"timer_8h.html#ad35f67a85e6e1461cb83540a28b9785a",
"vectors_8h.html#a4dfd3e794583f00ba0e426024ec5ed8a",
"wsn430v13b_200std__uart_200std__uart_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667",
"wsn430v14_2debugpins_8c.html#a3da118fb372a41549fb305b3cb4561de",
"xpressohack_2spi_8c.html#a4549d5dc21db5356eb73470e66459f78"
];

var SYNCONMSG = 'click to disable panel synchronisation';
var SYNCOFFMSG = 'click to enable panel synchronisation';
var navTreeSubIndices = new Array();

function getData(varName)
{
  var i = varName.lastIndexOf('/');
  var n = i>=0 ? varName.substring(i+1) : varName;
  return eval(n.replace(/\-/g,'_'));
}

function stripPath(uri)
{
  return uri.substring(uri.lastIndexOf('/')+1);
}

function stripPath2(uri)
{
  var i = uri.lastIndexOf('/');
  var s = uri.substring(i+1);
  var m = uri.substring(0,i+1).match(/\/d\w\/d\w\w\/$/);
  return m ? uri.substring(i-6) : s;
}

function localStorageSupported()
{
  try {
    return 'localStorage' in window && window['localStorage'] !== null && window.localStorage.getItem;
  }
  catch(e) {
    return false;
  }
}


function storeLink(link)
{
  if (!$("#nav-sync").hasClass('sync') && localStorageSupported()) {
      window.localStorage.setItem('navpath',link);
  }
}

function deleteLink()
{
  if (localStorageSupported()) {
    window.localStorage.setItem('navpath','');
  } 
}

function cachedLink()
{
  if (localStorageSupported()) {
    return window.localStorage.getItem('navpath');
  } else {
    return '';
  }
}

function getScript(scriptName,func,show)
{
  var head = document.getElementsByTagName("head")[0]; 
  var script = document.createElement('script');
  script.id = scriptName;
  script.type = 'text/javascript';
  script.onload = func; 
  script.src = scriptName+'.js'; 
  if ($.browser.msie && $.browser.version<=8) { 
    // script.onload does not work with older versions of IE
    script.onreadystatechange = function() {
      if (script.readyState=='complete' || script.readyState=='loaded') { 
        func(); if (show) showRoot(); 
      }
    }
  }
  head.appendChild(script); 
}

function createIndent(o,domNode,node,level)
{
  var level=-1;
  var n = node;
  while (n.parentNode) { level++; n=n.parentNode; }
  var imgNode = document.createElement("img");
  imgNode.style.paddingLeft=(16*level).toString()+'px';
  imgNode.width  = 16;
  imgNode.height = 22;
  imgNode.border = 0;
  if (node.childrenData) {
    node.plus_img = imgNode;
    node.expandToggle = document.createElement("a");
    node.expandToggle.href = "javascript:void(0)";
    node.expandToggle.onclick = function() {
      if (node.expanded) {
        $(node.getChildrenUL()).slideUp("fast");
        node.plus_img.src = node.relpath+"ftv2pnode.png";
        node.expanded = false;
      } else {
        expandNode(o, node, false, false);
      }
    }
    node.expandToggle.appendChild(imgNode);
    domNode.appendChild(node.expandToggle);
    imgNode.src = node.relpath+"ftv2pnode.png";
  } else {
    imgNode.src = node.relpath+"ftv2node.png";
    domNode.appendChild(imgNode);
  } 
}

var animationInProgress = false;

function gotoAnchor(anchor,aname,updateLocation)
{
  var pos, docContent = $('#doc-content');
  if (anchor.parent().attr('class')=='memItemLeft' ||
      anchor.parent().attr('class')=='fieldtype' ||
      anchor.parent().is(':header')) 
  {
    pos = anchor.parent().position().top;
  } else if (anchor.position()) {
    pos = anchor.position().top;
  }
  if (pos) {
    var dist = Math.abs(Math.min(
               pos-docContent.offset().top,
               docContent[0].scrollHeight-
               docContent.height()-docContent.scrollTop()));
    animationInProgress=true;
    docContent.animate({
      scrollTop: pos + docContent.scrollTop() - docContent.offset().top
    },Math.max(50,Math.min(500,dist)),function(){
      if (updateLocation) window.location.href=aname;
      animationInProgress=false;
    });
  }
}

function newNode(o, po, text, link, childrenData, lastNode)
{
  var node = new Object();
  node.children = Array();
  node.childrenData = childrenData;
  node.depth = po.depth + 1;
  node.relpath = po.relpath;
  node.isLast = lastNode;

  node.li = document.createElement("li");
  po.getChildrenUL().appendChild(node.li);
  node.parentNode = po;

  node.itemDiv = document.createElement("div");
  node.itemDiv.className = "item";

  node.labelSpan = document.createElement("span");
  node.labelSpan.className = "label";

  createIndent(o,node.itemDiv,node,0);
  node.itemDiv.appendChild(node.labelSpan);
  node.li.appendChild(node.itemDiv);

  var a = document.createElement("a");
  node.labelSpan.appendChild(a);
  node.label = document.createTextNode(text);
  node.expanded = false;
  a.appendChild(node.label);
  if (link) {
    var url;
    if (link.substring(0,1)=='^') {
      url = link.substring(1);
      link = url;
    } else {
      url = node.relpath+link;
    }
    a.className = stripPath(link.replace('#',':'));
    if (link.indexOf('#')!=-1) {
      var aname = '#'+link.split('#')[1];
      var srcPage = stripPath($(location).attr('pathname'));
      var targetPage = stripPath(link.split('#')[0]);
      a.href = srcPage!=targetPage ? url : "javascript:void(0)"; 
      a.onclick = function(){
        storeLink(link);
        if (!$(a).parent().parent().hasClass('selected'))
        {
          $('.item').removeClass('selected');
          $('.item').removeAttr('id');
          $(a).parent().parent().addClass('selected');
          $(a).parent().parent().attr('id','selected');
        }
        var anchor = $(aname);
        gotoAnchor(anchor,aname,true);
      };
    } else {
      a.href = url;
      a.onclick = function() { storeLink(link); }
    }
  } else {
    if (childrenData != null) 
    {
      a.className = "nolink";
      a.href = "javascript:void(0)";
      a.onclick = node.expandToggle.onclick;
    }
  }

  node.childrenUL = null;
  node.getChildrenUL = function() {
    if (!node.childrenUL) {
      node.childrenUL = document.createElement("ul");
      node.childrenUL.className = "children_ul";
      node.childrenUL.style.display = "none";
      node.li.appendChild(node.childrenUL);
    }
    return node.childrenUL;
  };

  return node;
}

function showRoot()
{
  var headerHeight = $("#top").height();
  var footerHeight = $("#nav-path").height();
  var windowHeight = $(window).height() - headerHeight - footerHeight;
  (function (){ // retry until we can scroll to the selected item
    try {
      var navtree=$('#nav-tree');
      navtree.scrollTo('#selected',0,{offset:-windowHeight/2});
    } catch (err) {
      setTimeout(arguments.callee, 0);
    }
  })();
}

function expandNode(o, node, imm, showRoot)
{
  if (node.childrenData && !node.expanded) {
    if (typeof(node.childrenData)==='string') {
      var varName    = node.childrenData;
      getScript(node.relpath+varName,function(){
        node.childrenData = getData(varName);
        expandNode(o, node, imm, showRoot);
      }, showRoot);
    } else {
      if (!node.childrenVisited) {
        getNode(o, node);
      } if (imm || ($.browser.msie && $.browser.version>8)) { 
        // somehow slideDown jumps to the start of tree for IE9 :-(
        $(node.getChildrenUL()).show();
      } else {
        $(node.getChildrenUL()).slideDown("fast");
      }
      if (node.isLast) {
        node.plus_img.src = node.relpath+"ftv2mlastnode.png";
      } else {
        node.plus_img.src = node.relpath+"ftv2mnode.png";
      }
      node.expanded = true;
    }
  }
}

function glowEffect(n,duration)
{
  n.addClass('glow').delay(duration).queue(function(next){
    $(this).removeClass('glow');next();
  });
}

function highlightAnchor()
{
  var aname = $(location).attr('hash');
  var anchor = $(aname);
  if (anchor.parent().attr('class')=='memItemLeft'){
    var rows = $('.memberdecls tr[class$="'+
               window.location.hash.substring(1)+'"]');
    glowEffect(rows.children(),300); // member without details
  } else if (anchor.parents().slice(2).prop('tagName')=='TR') {
    glowEffect(anchor.parents('div.memitem'),1000); // enum value
  } else if (anchor.parent().attr('class')=='fieldtype'){
    glowEffect(anchor.parent().parent(),1000); // struct field
  } else if (anchor.parent().is(":header")) {
    glowEffect(anchor.parent(),1000); // section header
  } else {
    glowEffect(anchor.next(),1000); // normal member
  }
  gotoAnchor(anchor,aname,false);
}

function selectAndHighlight(hash,n)
{
  var a;
  if (hash) {
    var link=stripPath($(location).attr('pathname'))+':'+hash.substring(1);
    a=$('.item a[class$="'+link+'"]');
  }
  if (a && a.length) {
    a.parent().parent().addClass('selected');
    a.parent().parent().attr('id','selected');
    highlightAnchor();
  } else if (n) {
    $(n.itemDiv).addClass('selected');
    $(n.itemDiv).attr('id','selected');
  }
  if ($('#nav-tree-contents .item:first').hasClass('selected')) {
    $('#nav-sync').css('top','30px');
  } else {
    $('#nav-sync').css('top','5px');
  }
  showRoot();
}

function showNode(o, node, index, hash)
{
  if (node && node.childrenData) {
    if (typeof(node.childrenData)==='string') {
      var varName    = node.childrenData;
      getScript(node.relpath+varName,function(){
        node.childrenData = getData(varName);
        showNode(o,node,index,hash);
      },true);
    } else {
      if (!node.childrenVisited) {
        getNode(o, node);
      }
      $(node.getChildrenUL()).show();
      if (node.isLast) {
        node.plus_img.src = node.relpath+"ftv2mlastnode.png";
      } else {
        node.plus_img.src = node.relpath+"ftv2mnode.png";
      }
      node.expanded = true;
      var n = node.children[o.breadcrumbs[index]];
      if (index+1<o.breadcrumbs.length) {
        showNode(o,n,index+1,hash);
      } else {
        if (typeof(n.childrenData)==='string') {
          var varName = n.childrenData;
          getScript(n.relpath+varName,function(){
            n.childrenData = getData(varName);
            node.expanded=false;
            showNode(o,node,index,hash); // retry with child node expanded
          },true);
        } else {
          var rootBase = stripPath(o.toroot.replace(/\..+$/, ''));
          if (rootBase=="index" || rootBase=="pages" || rootBase=="search") {
            expandNode(o, n, true, true);
          }
          selectAndHighlight(hash,n);
        }
      }
    }
  } else {
    selectAndHighlight(hash);
  }
}

function getNode(o, po)
{
  po.childrenVisited = true;
  var l = po.childrenData.length-1;
  for (var i in po.childrenData) {
    var nodeData = po.childrenData[i];
    po.children[i] = newNode(o, po, nodeData[0], nodeData[1], nodeData[2],
      i==l);
  }
}

function gotoNode(o,subIndex,root,hash,relpath)
{
  var nti = navTreeSubIndices[subIndex][root+hash];
  o.breadcrumbs = $.extend(true, [], nti ? nti : navTreeSubIndices[subIndex][root]);
  if (!o.breadcrumbs && root!=NAVTREE[0][1]) { // fallback: show index
    navTo(o,NAVTREE[0][1],"",relpath);
    $('.item').removeClass('selected');
    $('.item').removeAttr('id');
  }
  if (o.breadcrumbs) {
    o.breadcrumbs.unshift(0); // add 0 for root node
    showNode(o, o.node, 0, hash);
  }
}

function navTo(o,root,hash,relpath)
{
  var link = cachedLink();
  if (link) {
    var parts = link.split('#');
    root = parts[0];
    if (parts.length>1) hash = '#'+parts[1];
    else hash='';
  }
  if (hash.match(/^#l\d+$/)) {
    var anchor=$('a[name='+hash.substring(1)+']');
    glowEffect(anchor.parent(),1000); // line number
    hash=''; // strip line number anchors
    //root=root.replace(/_source\./,'.'); // source link to doc link
  }
  var url=root+hash;
  var i=-1;
  while (NAVTREEINDEX[i+1]<=url) i++;
  if (i==-1) { i=0; root=NAVTREE[0][1]; } // fallback: show index
  if (navTreeSubIndices[i]) {
    gotoNode(o,i,root,hash,relpath)
  } else {
    getScript(relpath+'navtreeindex'+i,function(){
      navTreeSubIndices[i] = eval('NAVTREEINDEX'+i);
      if (navTreeSubIndices[i]) {
        gotoNode(o,i,root,hash,relpath);
      }
    },true);
  }
}

function showSyncOff(n,relpath)
{
    n.html('<img src="'+relpath+'sync_off.png" title="'+SYNCOFFMSG+'"/>');
}

function showSyncOn(n,relpath)
{
    n.html('<img src="'+relpath+'sync_on.png" title="'+SYNCONMSG+'"/>');
}

function toggleSyncButton(relpath)
{
  var navSync = $('#nav-sync');
  if (navSync.hasClass('sync')) {
    navSync.removeClass('sync');
    showSyncOff(navSync,relpath);
    storeLink(stripPath2($(location).attr('pathname'))+$(location).attr('hash'));
  } else {
    navSync.addClass('sync');
    showSyncOn(navSync,relpath);
    deleteLink();
  }
}

function initNavTree(toroot,relpath)
{
  var o = new Object();
  o.toroot = toroot;
  o.node = new Object();
  o.node.li = document.getElementById("nav-tree-contents");
  o.node.childrenData = NAVTREE;
  o.node.children = new Array();
  o.node.childrenUL = document.createElement("ul");
  o.node.getChildrenUL = function() { return o.node.childrenUL; };
  o.node.li.appendChild(o.node.childrenUL);
  o.node.depth = 0;
  o.node.relpath = relpath;
  o.node.expanded = false;
  o.node.isLast = true;
  o.node.plus_img = document.createElement("img");
  o.node.plus_img.src = relpath+"ftv2pnode.png";
  o.node.plus_img.width = 16;
  o.node.plus_img.height = 22;

  if (localStorageSupported()) {
    var navSync = $('#nav-sync');
    if (cachedLink()) {
      showSyncOff(navSync,relpath);
      navSync.removeClass('sync');
    } else {
      showSyncOn(navSync,relpath);
    }
    navSync.click(function(){ toggleSyncButton(relpath); });
  }

  navTo(o,toroot,window.location.hash,relpath);

  $(window).bind('hashchange', function(){
     if (window.location.hash && window.location.hash.length>1){
       var a;
       if ($(location).attr('hash')){
         var clslink=stripPath($(location).attr('pathname'))+':'+
                               $(location).attr('hash').substring(1);
         a=$('.item a[class$="'+clslink+'"]');
       }
       if (a==null || !$(a).parent().parent().hasClass('selected')){
         $('.item').removeClass('selected');
         $('.item').removeAttr('id');
       }
       var link=stripPath2($(location).attr('pathname'));
       navTo(o,link,$(location).attr('hash'),relpath);
     } else if (!animationInProgress) {
       $('#doc-content').scrollTop(0);
       $('.item').removeClass('selected');
       $('.item').removeAttr('id');
       navTo(o,toroot,window.location.hash,relpath);
     }
  })

  $(window).load(showRoot);
}

