<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>OpenWSN Firmware: C:/Jenkins/jobs/Firmware Docs/workspace/firmware/openos/bsp/boards/xpressohack/bsp_timer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenWSN Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xpressohack_2bsp__timer_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">bsp_timer.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;string.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="timer_8h_source.html">timer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="bsp__timer_8h_source.html">bsp_timer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="board_8h_source.html">board.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="xpressohack_2board__info_8h_source.html">board_info.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbsp__timer__vars__t.html">bsp_timer_vars_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">derfmega-specific definition of the "bsp_timer" bsp module.  <a href="structbsp__timer__vars__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a54cfbff888396393e633e1fe53d885ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xpressohack_2bsp__timer_8c.html#a54cfbff888396393e633e1fe53d885ed">timer_compare_isr_2</a> (<a class="el" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> reg)</td></tr>
<tr class="separator:a54cfbff888396393e633e1fe53d885ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e6652b966ca63d355f1ae1ab14ed32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xpressohack_2bsp__timer_8c.html#ad9e6652b966ca63d355f1ae1ab14ed32">timer_capture_isr_2</a> (<a class="el" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> reg)</td></tr>
<tr class="separator:ad9e6652b966ca63d355f1ae1ab14ed32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff5559eb755f46cdae1b61d966982de2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xpressohack_2bsp__timer_8c.html#aff5559eb755f46cdae1b61d966982de2">bsp_timer_init</a> ()</td></tr>
<tr class="memdesc:aff5559eb755f46cdae1b61d966982de2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize this module.  <a href="#aff5559eb755f46cdae1b61d966982de2">More...</a><br/></td></tr>
<tr class="separator:aff5559eb755f46cdae1b61d966982de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a31a787657dccde5a1895fc87578589"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xpressohack_2bsp__timer_8c.html#a3a31a787657dccde5a1895fc87578589">bsp_timer_set_callback</a> (<a class="el" href="openwsnmodule__obj_8h.html#a467f64b483650537eb1adce336a7b389">bsp_timer_cbt</a> cb)</td></tr>
<tr class="memdesc:a3a31a787657dccde5a1895fc87578589"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a callback.  <a href="#a3a31a787657dccde5a1895fc87578589">More...</a><br/></td></tr>
<tr class="separator:a3a31a787657dccde5a1895fc87578589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bac30b5b63cefb4e3befd2586d62e40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xpressohack_2bsp__timer_8c.html#a6bac30b5b63cefb4e3befd2586d62e40">bsp_timer_reset</a> ()</td></tr>
<tr class="memdesc:a6bac30b5b63cefb4e3befd2586d62e40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the timer.  <a href="#a6bac30b5b63cefb4e3befd2586d62e40">More...</a><br/></td></tr>
<tr class="separator:a6bac30b5b63cefb4e3befd2586d62e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b96b1c74c2fd8a4c307831d0fc7528"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xpressohack_2bsp__timer_8c.html#ac6b96b1c74c2fd8a4c307831d0fc7528">bsp_timer_scheduleIn</a> (<a class="el" href="z1_2board__info_8h.html#abe66b9c1c60db84f2a99f2b827275f24">PORT_TIMER_WIDTH</a> delayTicks)</td></tr>
<tr class="memdesc:ac6b96b1c74c2fd8a4c307831d0fc7528"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule the callback to be called in some specified time.  <a href="#ac6b96b1c74c2fd8a4c307831d0fc7528">More...</a><br/></td></tr>
<tr class="separator:ac6b96b1c74c2fd8a4c307831d0fc7528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97bf5dc58dcb44786e80b9857d824539"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xpressohack_2bsp__timer_8c.html#a97bf5dc58dcb44786e80b9857d824539">bsp_timer_cancel_schedule</a> ()</td></tr>
<tr class="memdesc:a97bf5dc58dcb44786e80b9857d824539"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel a running compare.  <a href="#a97bf5dc58dcb44786e80b9857d824539">More...</a><br/></td></tr>
<tr class="separator:a97bf5dc58dcb44786e80b9857d824539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9dbd107b55167fa643ac02bd14a4128"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xpressohack_2bsp__timer_8c.html#aa9dbd107b55167fa643ac02bd14a4128">bsp_timer_isr</a> ()</td></tr>
<tr class="separator:aa9dbd107b55167fa643ac02bd14a4128"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2c30c3f080deb67f34bab3e451c4aba9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbsp__timer__vars__t.html">bsp_timer_vars_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xpressohack_2bsp__timer_8c.html#a2c30c3f080deb67f34bab3e451c4aba9">bsp_timer_vars</a></td></tr>
<tr class="separator:a2c30c3f080deb67f34bab3e451c4aba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a97bf5dc58dcb44786e80b9857d824539"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bsp_timer_cancel_schedule </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel a running compare. </p>

</div>
</div>
<a class="anchor" id="aff5559eb755f46cdae1b61d966982de2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bsp_timer_init </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize this module. </p>
<p>This functions starts the timer, i.e. the counter increments, but doesn't set any compare registers, so no interrupt will fire. </p>

</div>
</div>
<a class="anchor" id="aa9dbd107b55167fa643ac02bd14a4128"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bsp_timer_isr </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6bac30b5b63cefb4e3befd2586d62e40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bsp_timer_reset </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the timer. </p>
<p>This function does not stop the timer, it rather resets the value of the counter, and cancels a possible pending compare event. </p>

</div>
</div>
<a class="anchor" id="ac6b96b1c74c2fd8a4c307831d0fc7528"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bsp_timer_scheduleIn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="z1_2board__info_8h.html#abe66b9c1c60db84f2a99f2b827275f24">PORT_TIMER_WIDTH</a>&#160;</td>
          <td class="paramname"><em>delayTicks</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedule the callback to be called in some specified time. </p>
<p>The delay is expressed relative to the last compare event. It doesn't matter how long it took to call this function after the last compare, the timer will expire precisely delayTicks after the last one.</p>
<p>The only possible problem is that it took so long to call this function that the delay specified is shorter than the time already elapsed since the last compare. In that case, this function triggers the interrupt to fire right away.</p>
<p>This means that the interrupt may fire a bit off, but this inaccuracy does not propagate to subsequent timers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delayTicks</td><td>Number of ticks before the timer expired, relative to the last compare event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3a31a787657dccde5a1895fc87578589"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bsp_timer_set_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="openwsnmodule__obj_8h.html#a467f64b483650537eb1adce336a7b389">bsp_timer_cbt</a>&#160;</td>
          <td class="paramname"><em>cb</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>The function to be called when a compare event happens. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad9e6652b966ca63d355f1ae1ab14ed32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_capture_isr_2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>reg</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a54cfbff888396393e633e1fe53d885ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_compare_isr_2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_e___types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>reg</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a2c30c3f080deb67f34bab3e451c4aba9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbsp__timer__vars__t.html">bsp_timer_vars_t</a> bsp_timer_vars</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4916502eeeee2174d69d9d347bc18007.html">firmware</a></li><li class="navelem"><a class="el" href="dir_f8f7d70f6415baf543d11d3df711609b.html">openos</a></li><li class="navelem"><a class="el" href="dir_fba537fa10109a2d53db2e436cca2a6d.html">bsp</a></li><li class="navelem"><a class="el" href="dir_864a9ed3651b201e1aa10451e7ef593c.html">boards</a></li><li class="navelem"><a class="el" href="dir_dfb2b58d5d8fe4fd3a0267570f3a21df.html">xpressohack</a></li><li class="navelem"><a class="el" href="xpressohack_2bsp__timer_8c.html">bsp_timer.c</a></li>
    <li class="footer">Generated on Wed Sep 11 2013 04:38:47 for OpenWSN Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
